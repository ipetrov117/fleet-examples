defaultNamespace: neuvector-system

helm:
  timeoutSeconds: 100
  releaseName: "neuvector"
  chart: "neuvector"
  repo: "https://charts.rancher.io"
  version: "105.0.1+up2.8.4"
  # custom chart value overrides
  values: {}

# https://fleet.rancher.io/bundle-diffs
diff:
  comparePatches:
  - apiVersion: apiextensions.k8s.io/v1
    kind: CustomResourceDefinition
    name: addresspools.metallb.io
    operations:
    - {"op":"remove", "path":"/spec/conversion/webhook/clientConfig/caBundle"}
    - {"op":"remove", "path":"/status/conditions"}
    - {"op":"remove", "path":"/status/storedVersions"}
    - {"op":"remove", "path":"/status/acceptedNames"}
  - apiVersion: apiextensions.k8s.io/v1
    kind: CustomResourceDefinition
    name: bgppeers.metallb.io
    operations:
    - {"op":"remove", "path":"/spec/conversion/webhook/clientConfig/caBundle"}
    - {"op":"remove", "path":"/status/conditions"}
    - {"op":"remove", "path":"/status/storedVersions"}
    - {"op":"remove", "path":"/status/acceptedNames"}
  - apiVersion: batch/v1
    kind: CronJob
    name: neuvector-cert-upgrader-pod
    operations:
    - {"op":"remove", "path":"/metadata/annotations/cert-upgrader-uid"}
  - apiVersion: coordination.k8s.io/v1
    kind: Lease
    name: neuvector-cert-upgrader
    operations:
    - {"op":"remove", "path":"/spec/leaseTransitions"}
  - apiVersion: coordination.k8s.io/v1
    kind: Lease
    name: neuvector-controller
    operations:
    - {"op":"remove", "path":"/spec/leaseTransitions"}
